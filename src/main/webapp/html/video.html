<link href="https://www.moerats.com/usr/dplayer/DPlayer.min.css" rel="stylesheet">
<div id="dplayer"></div>
<script src="../js/jquery-3.3.1.js" type="text/javascript"></script>
<script src="https://www.moerats.com/usr/dplayer/DPlayer.min.js"></script>
<script src="https://cdnjs.loli.net/ajax/libs/blueimp-md5/2.10.0/js/md5.min.js"></script>
<script>
    $(function () {
        function video() {
            $.ajax({
                async: false,
                url: "/play/getVideo",
                data: {"video_id": 1},
                // data:{"video_id":""},
                type: "post",
                success: function (result) {
                    var url = result[0].video_video;
                    var danmu = result[0].video_danmu;
                    //这里填写视频地址(阿里云oss存储)
                    var id = md5(url);
                    const dp = new DPlayer({
                        container: document.getElementById('dplayer'),
                        autoplay: true,
                        video: {
                            url: url
                        },
                        danmaku: {
                            id: id,
                            api: 'https://dplayer.moerats.com/',
                            addition: [danmu]   //这里填写弹幕地址
                        }
                    })

                },
                error: function () {
                    alert("失败！！");
                }
            });
        }
        video();
    });
</script>